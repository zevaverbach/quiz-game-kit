# Quiz Game Kit

A modular, dependency-free quiz game framework that powers [quizhive.org](https://quizhive.org).

## Repository Structure

```
quiz-game-kit/
├── quizzes.toml              # Quiz configuration (titles, themes, S3 paths)
├── render.py                 # Render a single quiz
├── render_all.py             # Render all quizzes
├── deploy.py                 # Deploy everything to S3
├── templates/
│   └── index.html.j2         # Jinja2 template for quiz pages
├── home/
│   └── index.html            # Landing page (quizhive.org/)
├── shared/                   # Shared assets (→ assets.quizhive.org)
│   ├── quiz-engine.js        # Game engine
│   ├── styles.css            # Base styles
│   └── *.db                  # SQLite question databases
└── sites/                    # Per-quiz files (→ quizhive.org/<path>/)
    ├── beyblade-x/
    │   ├── index.html         # Generated by render_all.py
    │   └── theme.css
    ├── greek-myth/
    │   ├── index.html
    │   └── theme.css
    └── system-design/
        ├── index.html
        └── theme.css
```

## Features

- **Zero Build Step**: Uses only CDN resources (fonts, animations, sql.js)
- **SQLite-based Questions**: Questions live in `.db` files, loaded via WASM
- **Pluggable Theming**: CSS variable-based styling with per-quiz `theme.css`
- **Progress Tracking**: LocalStorage-based user progress and statistics
- **Streak System**: Achievement tracking to keep players engaged
- **Offline Caching**: DB cached in IndexedDB for 90 days
- **Fully Responsive**: Works on desktop, tablet, and mobile

## Workflow

### Render

```bash
python3 render_all.py
```

Reads `quizzes.toml` and generates `sites/<prefix>/index.html` for each quiz.

### Deploy

```bash
python3 deploy.py
```

Uploads to two S3 buckets:
- `s3://quizhive.org/` — quiz HTML/CSS and home page
- `s3://assets.quizhive.org/` — shared engine, styles, and databases

## Adding a New Quiz

1. Add a section to `quizzes.toml` with title, theme, `db_file`, and `s3_path`
2. Create a `.db` file with the questions schema and add it to `shared/`
3. Optionally create `sites/<prefix>/theme.css` for custom styling
4. Run `python3 render_all.py` to generate the HTML
5. Run `python3 deploy.py` to publish

## SQLite Schema

```sql
CREATE TABLE questions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    question TEXT NOT NULL,
    option_a TEXT NOT NULL,
    option_b TEXT NOT NULL,
    option_c TEXT NOT NULL,
    option_d TEXT NOT NULL,
    correct INTEGER NOT NULL CHECK(correct BETWEEN 0 AND 3),
    fun_fact TEXT,
    wiki_url TEXT
);
```

## License

MIT
